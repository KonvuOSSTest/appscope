version: '3.5'
services:
  interposed_func:
    command: -s /opt/test-runner/bin/libscope.so
    volumes:
      - ./logs:/opt/test-runner/logs
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    privileged: true

  cribl:
    command: -s /opt/test-runner/bin/libscope.so
    volumes:
      - ./logs:/opt/test-runner/logs
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    privileged: true

  nginx:
    command: -s /opt/test-runner/bin/libscope.so
    volumes:
      - ./logs:/opt/test-runner/logs
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    privileged: true

  splunk:
    command: -s /opt/test-runner/bin/libscope.so
    volumes:
      - ./logs:/opt/test-runner/logs
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    privileged: true

  elastic:
    command: -s /opt/test-runner/bin/libscope.so
    volumes:
      - ./logs:/opt/test-runner/logs
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    privileged: true

  kafka:
    command: -s /opt/test-runner/bin/libscope.so
    volumes:
      - ./logs:/opt/test-runner/logs
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    privileged: true

  tls:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  detect_proto:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  gogen:
    volumes:
      - ./libscope.so:/usr/lib/libscope.so
      - ./scope:/usr/bin/scope
    privileged: true

  go_8:
    volumes:
      - ./libscope.so:/usr/lib/libscope.so
      - ./scope:/usr/bin/scope
    privileged: true
  go_9:
    volumes:
      - ./libscope.so:/usr/lib/libscope.so
      - ./scope:/usr/bin/scope
    privileged: true
  go_10:
    volumes:
      - ./libscope.so:/usr/lib/libscope.so
      - ./scope:/usr/bin/scope
    privileged: true
  go_11:
    volumes:
      - ./libscope.so:/usr/lib/libscope.so
      - ./scope:/usr/bin/scope
    privileged: true
  go_12:
    volumes:
      - ./libscope.so:/usr/lib/libscope.so
      - ./scope:/usr/bin/scope
    privileged: true
  go_13:
    volumes:
      - ./libscope.so:/usr/lib/libscope.so
      - ./scope:/usr/bin/scope
    privileged: true
  go_14:
    volumes:
      - ./libscope.so:/usr/lib/libscope.so
      - ./scope:/usr/bin/scope
    privileged: true
  go_15:
    volumes:
      - ./libscope.so:/usr/lib/libscope.so
      - ./scope:/usr/bin/scope
    privileged: true

  java6:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  java7:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  java8:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  java9:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  java10:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  java11:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  java12:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  java13:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  java14:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  oracle_java6:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true
  
  oracle_java7:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  oracle_java8:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  oracle_java9:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  oracle_java10:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  oracle_java11:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  oracle_java12:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  oracle_java13:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

  oracle_java14:
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - LD_PRELOAD=/opt/test-runner/bin/libscope.so
    privileged: true

version: '3.5'
services:
  cribl:
    command: -s /opt/test-runner/bin/libscope.so
    volumes:
      - ./logs:/opt/test-runner/logs
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - SCOPE_EVENT_DEST=tcp://172.16.198.1:9109

  splunk:
    command: -s /opt/test-runner/bin/libscope.so
    volumes:
      - ./logs:/opt/test-runner/logs
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - SCOPE_EVENT_DEST=tcp://172.16.198.1:9109

  nginx:
    command: -s /opt/test-runner/bin/libscope.so
    volumes:
      - ./logs:/opt/test-runner/logs
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - SCOPE_EVENT_DEST=tcp://172.16.198.1:9109

  interposed_func:
    command: -s /opt/test-runner/bin/libscope.so
    volumes:
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - SCOPE_EVENT_DEST=tcp://172.16.198.1:9109

  elastic:
    command: -s /opt/test-runner/bin/libscope.so
    volumes:
      - ./logs:/opt/test-runner/logs
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - SCOPE_EVENT_DEST=tcp://172.16.198.1:9109

  kafka:
    command: -s /opt/test-runner/bin/libscope.so
    volumes:
      - ./logs:/opt/test-runner/logs
      - ../../lib/linux/libscope.so:/opt/test-runner/bin/libscope.so
    environment:
      - SCOPE_EVENT_DEST=tcp://172.16.198.1:9109

